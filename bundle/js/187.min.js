"use strict";(self.webpackChunk_=self.webpackChunk_||[]).push([[187],{9187:function(a,o,n){n.r(o),n.d(o,{default:function(){return C}});var t=n(1214),e=n(7294),i={unset:0},d={steps:i.unset},r=(0,e.createContext)(d),l={camera:{fov:25,far:500},sky:{enabled:!0},controls:{distance:{min:25,max:25},polar:{min:-70,max:70},azimuth:{min:-1/0,max:1/0},default:{polar:0,azimuth:0}},light:{ambient:{color:16777215,intensity:.6},spot:{color:16777215,intensity:.3,far:100,position:{x:-3,y:6,z:2}},shadowMapSize:256,debug:!0},stats:!1},s=n(5671),c=n(3144),u=n(9515),p=n.n(u),w=n(9477),h=n(4376),f=n(6023),m=n(7011),g=n.p+"bundle/image/pages/landing/material/wood-front.jpg",v=n.p+"bundle/image/pages/landing/material/wood-front-alpha.png",b=n.p+"bundle/image/pages/landing/material/2145.jpg",x=n.p+"bundle/image/pages/landing/material/wood.jpg",S=n.p+"bundle/image/pages/landing/material/wood2.jpg",P=n.p+"bundle/image/pages/landing/material/wood3.jpg",M=n.p+"bundle/model/12221_Cat_v1_l3.mtl",k=n.p+"bundle/model/12221_Cat_v1_l3.obj",y={fov:l.camera.fov,distance:l.controls.distance.max},B=function(){function a(o){(0,s.Z)(this,a),this.webgl=o,this.woodFront=null,this.woodBack=null,this.woodSide=null,this.woodTop=null,this.woodBottom=null,this.cat=null,this.catGroup=null,this.box=null,this.rotation=-20,this.build(),this.render()}return(0,c.Z)(a,[{key:"gui",value:function(){var a=this,o=this.webgl,n=o.camera,t=o.renderer,e=o.controls;t.renderer.localClippingEnabled=!0;var i=new h.ZP.GUI({name:"My GUI"});i.close();var d=i.addFolder("camera");d.add(y,"fov",18,100).onChange((function(a){n.fov=a,n.updateProjectionMatrix()})),d.add(y,"distance",0,30).onChange((function(a){e.controls.minDistance=a,e.controls.maxDistance=a})),i.addFolder("position").add(this.box.position,"y",-5,5),i.addFolder("rotation").add(this,"rotation",-30,30).onChange((function(o){a.catGroup.rotation.x=Math.PI/180*o,a.box.rotation.x=Math.PI/180*o}));var r=i.addFolder("cat"),l=this.catGroup.position;r.add(l,"y",-10,10),r.add(l,"z",-10,20)}},{key:"build",value:function(){var a=this,o=this.webgl.scene;this.loadMaterials().then((function(){var n=.8,t=.2*n,e=new w.Kj0(new w._12(24,15),a.woodFront);o.add(e);var i=new w.ZAu,d=[a.woodSide,a.woodSide,a.woodTop,a.woodBottom,a.woodBack,a.woodBack],r=new w.Kj0(new w.DvJ(15.2376,8.7552,9.600000000000001),d);r.receiveShadow=!0,r.castShadow=!0,r.rotation.x=Math.PI/180*a.rotation,r.position.y=-.08,i.add(r),a.box=r,a.cat.scale.set(t,t,t),a.cat.rotation.x=Math.PI/180*-90,a.cat.rotation.z=Math.PI/180*30,a.cat.position.y=-4.3,a.cat.position.z=-2,a.cat.traverse((function(a){var o=a;o.isMesh&&(o.castShadow=!0,o.receiveShadow=!0)})),a.catGroup=new w.ZAu,a.catGroup.add(a.cat),a.catGroup.rotation.x=Math.PI/180*a.rotation,i.add(a.catGroup),i.position.z=-1e-4,o.add(i),a.gui()}))}},{key:"loadMaterials",value:function(){var a=this,o=new w.JOQ(new w.Pa4(0,0,-1),0);return new Promise((function(n,t){var e=new w.dpR;e.load(g,(function(i){e.load(v,(function(t){i.wrapS=i.wrapT=w.rpg,i.offset.set(0,0),i.repeat.set(1.2,1.2),a.woodFront=new w.vBJ({alphaMap:t,side:w.ehD,map:i,transparent:!0}),e.load(b,(function(t){a.woodBack=new w.YBo({map:t,side:w.ehD,clippingPlanes:[o],clipShadows:!0}),e.load(x,(function(t){a.woodSide=new w.YBo({map:t,side:w.ehD,clippingPlanes:[o],clipShadows:!0}),e.load(S,(function(t){a.woodTop=new w.YBo({map:t,side:w.ehD,clippingPlanes:[o],clipShadows:!0}),e.load(P,(function(t){t.wrapS=i.wrapT=w.rpg,t.offset.set(.1,0),t.repeat.set(.8,.8),a.woodBottom=new w.YBo({map:t,side:w.ehD,clippingPlanes:[o],clipShadows:!0}),(new f.v).load(M,(function(o){o.preload();var t=new m.L;t.setMaterials(o),t.load(k,(function(o){a.cat=o,n()}))}))}))}))}))}))}),void 0,(function(){return t()}))}),void 0,(function(){return t()}))}))}},{key:"render",value:function(){var a=this.webgl.stats;p().add((function(){null==a||a.end()}))}}]),a}(),j=n(5893),C=(0,e.memo)((function(){var a=(0,e.useRef)(),o=(0,e.useState)(i);return(0,e.useEffect)((function(){var o=new t.Z(l);a.current.appendChild(o.render.domElement),new B(o)}),[]),(0,j.jsx)(r.Provider,{value:o,children:(0,j.jsx)("div",{ref:a,className:"Landing"})})}))}}]);